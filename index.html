<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Mini Quest ‚Äî DevTools Only</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; --accent:#22c55e; }
    html,body{height:100%}
    body{
      margin:0; display:grid; place-items:center; background:radial-gradient(1200px 800px at 80% -10%, #1f2937, #0b1222), var(--bg);
      color:var(--text); font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
    }
    .card{ max-width:860px; padding:32px 28px; border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,.08); box-shadow:0 10px 40px rgba(0,0,0,.35); }
    h1{margin:0 0 8px; font-size:28px}
    p{margin:0 0 12px; color:var(--muted)}
    code{background:rgba(255,255,255,.06); padding:.2em .45em; border-radius:8px}
    .hint{margin-top:12px; color:#cbd5e1}
    .flag{display:none; margin-top:16px; padding:12px 14px; border:1px dashed #4ade80; border-radius:10px; color:#bbf7d0}
    .small{font-size:13px; color:var(--muted); margin-top:8px}
    a{color:#93c5fd}
  </style>
</head>
<body>
<div class="card">
  <h1>üëã –ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –º–∏–Ω–∏-–∫–≤–µ—Å—Ç –¥–ª—è DevTools</h1>
  <p>–ü–æ–¥—Å–∫–∞–∑–∫–∏ –∂–∏–≤—É—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.</p>
  <p class="hint">–û—Ç–∫—Ä–æ–π DevTools: <code>F12</code> / <code>Cmd ‚åò + Option ‚å• + I</code> / <code>Ctrl + Shift + I</code></p>
  <p class="small">–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª ‚Äî –æ–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ù–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ üôÇ</p>
  <div id="flag" class="flag"></div>
</div>

<script>
  (function () {
    const FLAG = "FLAG{school_fire_started}";
    const COOKIE_NAME = "quest_step";
    const COOKIE_HINT = "go_local_storage_key=vault"; // —á—Ç–æ –ø–æ–ª–æ–∂–∏–º –≤ cookie
    const STORAGE_KEY = "vault";

    // –ó–∞–≥–∞–¥–∫–∞ (base64), —á—Ç–æ–±—ã –Ω–µ —Ç–æ—Ä—á–∞–ª–∞ –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–µ
    const riddleText = "0JHQsNC60L7QvdC+0LPQsNC30LjRgtC10LvRjNC90YvQuSDQv9GA0L7QstC+0LTRgNCwLCDQutC+0YLQvtC80YMg0YfQsNGA0L7Qv9C+0YDQvtC5OyDQv9GA0LjQvNC10LTQvdC+LdC+INC/0L7Qu9C20LjQstCwLCDQt9Cw0YPQvNC10YLRjA=="; // "–ë–µ–∑ —è–∑—ã–∫–∞, –∞ –≥–æ–≤–æ—Ä–∏—Ç; –±–µ–∑ —É—à–µ–π, –∞ —Å–ª—ã—à–∏—Ç; –±–µ–∑ —Ç–µ–ª–∞, –∞ –æ—Ç–∑—ã–≤–∞–µ—Ç—Å—è. –ß—Ç–æ —ç—Ç–æ?"

    const state = {
      ateCookies: false,
      answered: false,
    };

    function banner() {
      const s1 = "üöÄ Mini Quest";
      const s2 = "–í—Å—è –º–∞–≥–∏—è ‚Äî –≤ –∫–æ–Ω—Å–æ–ª–∏. –ù–∞–ø–∏—à–∏ quest.help()";
      console.log("%c" + s1, "color:#22c55e;font-weight:700;font-size:20px");
      console.log("%c" + s2, "color:#93c5fd;font-size:14px");
    }

    function help() {
      console.log("%c–®–∞–≥ 1:", "color:#a7f3d0");
      console.log("–°–∫–∞–∂–∏ –≤–æ–ª—à–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –≤–∏–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏:");
      console.log("%cquest.eat('–ø–æ–µ—à—å –ø–µ—á–µ–Ω—å–∫–æ–≤')", "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");

      console.log("%c–®–∞–≥ 2:", "color:#a7f3d0");
      console.log("–ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å–ø—Ä—è—á–µ—Ç—Å—è –≤ cookie. –ü–æ—Å–º–æ—Ç—Ä–∏ document.cookie –∏–ª–∏ –Ω–∞–ø–∏—à–∏:");
      console.log("%cquest.cookie()", "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");

      console.log("%c–®–∞–≥ 3:", "color:#a7f3d0");
      console.log("–í localStorage –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–≥–∞–¥–∫–∞. –ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å–∫–∞–∂–µ—Ç, –≥–¥–µ –∏–º–µ–Ω–Ω–æ. –ó–∞—Ç–µ–º:");
      console.log("%cquest.riddle()", "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");

      console.log("%c–®–∞–≥ 4:", "color:#a7f3d0");
      console.log("–ù–∞—à—ë–ª –æ—Ç–≤–µ—Ç? –ü—Ä–∏—à–ª–∏ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:");
      console.log("%cquest.answer('—ç—Ö–æ')", "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");
    }

    function setCookie(name, value, maxAgeSeconds) {
      document.cookie = name + "=" + encodeURIComponent(value) + "; path=/; samesite=Lax; max-age=" + (maxAgeSeconds || 3600);
    }

    function getCookie(name) {
      const m = document.cookie.match(new RegExp("(^|;)\\s*" + name + "\\s*=\\s*([^;]+)"));
      return m ? decodeURIComponent(m.pop()) : null;
    }

    function eat(phrase) {
      const normalized = String(phrase || "").trim().toLowerCase();
      const ok = normalized === "–ø–æ–µ—à—å –ø–µ—á–µ–Ω—å–∫–æ–≤";
      if (!ok) {
        console.log("%c–ù–µ —Ç–æ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ. –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Ä—É—Å—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏, –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ üòâ", "color:#fca5a5");
        return;
      }
      state.ateCookies = true;
      // 1) –ö–ª–∞–¥—ë–º –ø–æ–¥—Å–∫–∞–∑–∫—É –≤ cookie
      setCookie(COOKIE_NAME, COOKIE_HINT, 3600);
      // 2) –ö–ª–∞–¥—ë–º –∑–∞–≥–∞–¥–∫—É –≤ localStorage (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∑–∂–µ —Ç—É–¥–∞ –∑–∞–≥–ª—è–Ω–µ—Ç)
      try {
        localStorage.setItem(STORAGE_KEY, atob(riddleText));
      } catch (e) {
        /* ignore */
      }
      console.log("%c–í–∫—É—Å–Ω–æ üòã", "color:#22c55e");
      console.log("–ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å–ø—Ä—è—Ç–∞–Ω–∞ –≤ cookie –ø–æ–¥ –∏–º–µ–Ω–µ–º '%s'. –ü–æ—Å–º–æ—Ç—Ä–∏ –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å–ª–µ–¥—É–π —É–∫–∞–∑–∞–Ω–∏—é.", COOKIE_NAME);
      console.log("–ú–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å: %cquest.cookie()", "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");
    }

    function cookieHint() {
      const v = getCookie(COOKIE_NAME);
      if (!state.ateCookies || !v) {
        console.log("%c–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–µ—Å—Ç—å –ø–µ—á–µ–Ω—å–∫–æ–≤: quest.eat('–ø–æ–µ—à—å –ø–µ—á–µ–Ω—å–∫–æ–≤')", "color:#fca5a5");
        return;
      }
      console.log("%cCookie ‚Üí", "color:#fde68a", v);
      console.log("–ü–æ–¥—Å–∫–∞–∑–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç: –∑–∞–≥–ª—è–Ω–∏ –≤ localStorage –ø–æ –∫–ª—é—á—É '%s'. –õ–∏–±–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏: %cquest.riddle()", STORAGE_KEY, "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");
    }

    function riddle() {
      if (!state.ateCookies) {
        console.log("%c–ü–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω: —Å–Ω–∞—á–∞–ª–∞ –ø–µ—á–µ–Ω—å–∫–∏! quest.eat('–ø–æ–µ—à—å –ø–µ—á–µ–Ω—å–∫–æ–≤')", "color:#fca5a5");
        return;
      }
      const txt = localStorage.getItem(STORAGE_KEY);
      if (!txt) {
        console.log("%c–ù–µ –≤–∏–∂—É –∑–∞–≥–∞–¥–∫—É –≤ localStorage. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞ —Å–¥–µ–ª–∞—Ç—å quest.eat('–ø–æ–µ—à—å –ø–µ—á–µ–Ω—å–∫–æ–≤')", "color:#fca5a5");
        return;
      }
      console.log("%c–ó–∞–≥–∞–¥–∫–∞:", "color:#a7f3d0");
      console.log(txt);
      console.log("–î—É–º–∞–µ—à—å, –∑–Ω–∞–µ—à—å –æ—Ç–≤–µ—Ç? –í–≤–µ–¥–∏ –µ–≥–æ —Ç–∞–∫: %cquest.answer('—ç—Ö–æ')", "background:#111;padding:2px 6px;border-radius:6px;color:#e5e7eb");
    }

    function normalizeAnswer(x) {
      return String(x || "")
              .trim()
              .toLowerCase()
              .replace(/[—ë]/g, "–µ");
    }

    function answer(x) {
      if (state.answered) {
        console.log("–£–∂–µ –ø—Ä–∏–Ω—è—Ç–æ, —Ñ–ª–∞–≥ –≤—ã–¥–∞–Ω. –ü—Ä–æ–≤–µ—Ä—å –±–ª–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ üëá");
        return;
      }
      const a = normalizeAnswer(x);
      const accepted = ["—ç—Ö–æ", "echo"];
      if (!accepted.includes(a)) {
        console.log("%c–ü–æ–∫–∞ –Ω–µ—Ç. –ü–æ–¥—É–º–∞–π –µ—â—ë. –≠—Ç–æ –Ω–µ –∑–≤–µ—Ä—å, –Ω–µ —á–µ–ª–æ–≤–µ–∫ –∏ –Ω–µ —Ä–æ–±–æ—Ç.", "color:#fca5a5");
        return;
      }
      state.answered = true;
      const el = document.getElementById("flag");
      el.style.display = "block";
      el.innerHTML =
              "‚úÖ –í–µ—Ä–Ω–æ! –¢–≤–æ–π —Ñ–ª–∞–≥: <strong>" + FLAG +
              "</strong><br>–ü—Ä–∏—à–ª–∏ –µ–≥–æ –º–Ω–µ –≤ Telegram: <a href='https://t.me/become_undefined' target='_blank'>@become_undefined</a> –∏–ª–∏ <a href='https://t.me/awicone' target='_blank'>@awicone</a> ‚Äî –∏ –ø–æ–ª—É—á–∏ –ø—Ä–∏–∑ üéÅ";
      console.log("%c–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –§–ª–∞–≥: %c" + FLAG, "color:#22c55e", "background:#111;padding:2px 6px;border-radius:6px;color:#bbf7d0");
      console.log("–ü—Ä–∏—à–ª–∏ —Ñ–ª–∞–≥: @become_undefined –∏–ª–∏ @awicone ‚Äî –∏ –∑–∞–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–∏–∑ üéÅ");
    }

    // –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–∞–Ω–¥ –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å
    window.quest = { help, eat, cookie: cookieHint, riddle, answer };

    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∞–Ω–Ω–µ—Ä
    banner();
    // –ê–≤—Ç–æ-help –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞—Ö–æ–¥–µ
    setTimeout(help, 100);
  })();
</script>
</body>
</html>
